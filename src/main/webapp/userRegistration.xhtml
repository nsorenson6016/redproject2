<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--*************************************************************************

CREATED BY: Ken Frizzelle
CREATED ON: 2/28/13

**************************************************************************-->
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                template="/mainTemplate.xhtml"
                xmlns:p="http://primefaces.org/ui">
    <ui:define name="content">
        <div align="center">
            <h1>User Registration</h1>

            <h:outputText value="Please enter the following information."/><br />
            <h:outputText value="*required fields" style="color:red"/>
            <h:form>
                <p:growl id="growl" life="7000"/>
                <h:panelGrid columns="2" cellpadding="2" >


                    <h:outputText value="Username: *" style="float:right" />
                    <h:panelGroup>
                        <p:inputText id="username" value="#{userRegistrationBean.username}" 
                                     required="true" requiredMessage="Please enter a username." >  
                            <p:ajax event="blur" update="growl"   
                                    listener="#{userRegistrationBean.usernameInUse(blur)}"/>  
                        </p:inputText>  


                    </h:panelGroup>
                    <h:outputText value="Password: *" style="float:right"/>
                    <p:password id="password" value="#{userRegistrationBean.password}" match="confirmation"
                                required="true" requiredMessage="Please enter a password." validatorMessage="Passwords don't match."/>

                    <h:outputText value="Confirm Password: *" style="float:right"/>
                    <p:password id="confirmation" value="#{userRegistrationBean.password}" 
                                required="true" requiredMessage="Please confirm your password.">
                    </p:password>

                    <h:outputText value="Email Address: *" style="float:right"/>
                    <p:inputText id="emailText" value="#{userRegistrationBean.email}" 
                                 required="true" requiredMessage="Please enter your email address."/>

                    <h:outputText value="First Name: *" style="float:right"/>
                    <p:inputText id="firstNameText" value="#{userRegistrationBean.firstName}"
                                 required="true" requiredMessage="Please enter your first name."/>            

                    <h:outputText value="Last Name: *" style="float:right"/>
                    <p:inputText id="lastNameText" value="#{userRegistrationBean.lastName}" 
                                 required="true" requiredMessage="Please enter your last name."/>

                    <h:outputText value="Phone Number: *" style="float:right" />
                    <p:inputText id="phoneNumberText" value="#{userRegistrationBean.phoneNum}"
                                 required="true" requiredMessage="Please enter your phone number."/>

                    <h:outputText value="Address 1: *" style="float:right" />
                    <p:inputText id="address" value="#{userRegistrationBean.address}" 
                                 required="true" requiredMessage="Please enter your address."/>

                    <h:outputText value="Address 2: " style="float:right" />
                    <p:inputText id="addressTwo" value="#{userRegistrationBean.addressTwo}"/>

                    <h:outputText value="City: *" style="float:right" />
                    <p:inputText id="city" value="#{userRegistrationBean.city}" 
                                 required="true" requiredMessage="Please enter your city."/>

                    <h:outputText value="State: *" style="float:right" />
                    <p:inputText id="state" value="#{userRegistrationBean.state}"
                                 required="true" requiredMessage="Please enter your state."/>

                    <h:outputText value="Zip Code: *" style="float:right" />
                    <p:inputText id="zipCode" value="#{userRegistrationBean.zipCode}" 
                                 required="true" requiredMessage="Please enter your zip code."/>

                </h:panelGrid>
                <h:selectBooleanCheckbox required="true" requiredMessage="You must accept the terms of service." />
                <h:outputText style="margin-bottom: 25px; padding-bottom: 25px" value="I have read the user agreement and accept the terms of service."/><br />
                <h:commandButton id="submit" value="Submit"  action="#{userRegistrationBean.createNewUser()}"/>       

            </h:form>
        </div>
    </ui:define>
</ui:composition>
